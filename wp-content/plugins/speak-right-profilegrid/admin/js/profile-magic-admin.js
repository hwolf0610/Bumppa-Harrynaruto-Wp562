function redirectpmform(e,r){window.location="admin.php?page="+r+"&gid="+e}function add_pm_field(e,r){window.location="admin.php?page=pm_add_field&type="+e+"&gid="+r}function pm_show_hide(e,r,t,i){a=jQuery(e).is(":checked"),1==a?(jQuery("#"+r).show(500),""!=t&&jQuery("#"+t).hide(500),""!=i&&jQuery("#"+i).hide(500),"is_group_limit"==e.id&&(jQuery("#grouplimit_html .uiminput").addClass("pm_required"),jQuery("#group_limit_message_html .uiminput").addClass("pm_textarea_required")),"is_group_leader"==e.id&&(jQuery("#groupleaderhtml .uiminput:first").addClass("pm_admin_label"),jQuery("#groupleaderhtml .uiminput:last").addClass("pm_group_leader_name"),jQuery("#groupleaderhtml .uiminput.pm_primary_admin").addClass("pm_select_required"),jQuery(".pg-no-group-manager-related-field").show()),"is_paid_group"==e.id&&jQuery("#paidgrouphtml .uiminput:first").addClass("pm_required"),"display_on_profile"==e.id&&jQuery("#field_visibility_option .uiminput").addClass("pm_radio_required"),"pm_enable_recaptcha"==e.id&&(jQuery("#pm_recaptcha_site_key_wrapper .uiminput").addClass("pm_required"),jQuery("#pm_recaptcha_secret_key_wrapper .uiminput").addClass("pm_required")),"pm_enable_facebook_connect"==e.id&&(jQuery("#pm_facebook_connect_html .uiminput").addClass("pm_required"),jQuery("#pm_facebook_connect_html .uiminput").addClass("pm_required")),"pm_enable_google_connect"==e.id&&(jQuery("#pm_google_connect_html .uiminput").addClass("pm_required"),jQuery("#pm_google_connect_html .uiminput").addClass("pm_required")),"pm_enable_linkedin_connect"==e.id&&(jQuery("#pm_linkedin_connect_html .uiminput").addClass("pm_required"),jQuery("#pm_linkedin_connect_html .uiminput").addClass("pm_required")),"pm_enable_twitter_connect"==e.id&&(jQuery("#pm_twitter_connect_html .uiminput").addClass("pm_required"),jQuery("#pm_twitter_connect_html .uiminput").addClass("pm_required")),"pm_enable_instagram_connect"==e.id&&(jQuery("#pm_instagram_connect_html .uiminput").addClass("pm_required"),jQuery("#pm_instagram_connect_html .uiminput").addClass("pm_required")),"pm_enable_auto_logout_user"==e.id&&jQuery("#enable_auto_logout_user_html .uiminput:first").addClass("pm_required"),"pm_enable_reset_password_limit"==e.id&&jQuery("#pm_reset_password_limt_html .uiminput:first").addClass("pm_required"),"enable_mailchimp"==e.id&&jQuery("#mailchimp_html .uiminput:first").addClass("pm_checkbox_required"),e.id,e.id,"enable_tabs_privacy"==e.id&&jQuery("#tabs_privacy_html .uiminput").addClass("pm_radio_required"),"enable_on_admin_reset_password"==e.id&&jQuery("#enable_on_admin_reset_password_html .uiminput").addClass("pm_select_required"),"enable_on_admin_removal"==e.id&&jQuery("#enable_on_admin_removal_html .uiminput").addClass("pm_select_required"),"enable_on_admin_assignment"==e.id&&jQuery("#on_admin_assignment_html .uiminput").addClass("pm_select_required"),"pm_enable_geolocation"==e.id&&jQuery("#pm_geolocation_html #pm_map_api_key_row .uiminput").addClass("pm_required"),"admin_only"==e.id&&(jQuery("#show_signup").hide(500),jQuery("#signup_html").hide(500),jQuery("#privacy").hide(500),jQuery("#pg_rm_field_html").hide(500),jQuery("#default_registration_form_heading").hide(500)),"pm_enable_instagram_integration"==e.id&&(jQuery("#pm_instagram_html .uiminput").addClass("pm_required"),jQuery("#pm_instagram_html .uiminput").addClass("pm_required"))):(jQuery("#"+r).hide(500),""!=t&&jQuery("#"+t).show(500),""!=i&&jQuery("#"+i).show(500),"is_group_limit"==e.id&&(jQuery("#grouplimit_html .uiminput").removeClass("pm_required"),jQuery("#group_limit_message_html .uiminput").removeClass("pm_textarea_required")),"is_group_leader"==e.id&&(jQuery("#groupleaderhtml .uiminput:first").removeClass("pm_admin_label"),jQuery("#groupleaderhtml .uiminput:last").removeClass("pm_group_leader_name"),jQuery("#groupleaderhtml .uiminput:last").removeClass("pm_select_required"),jQuery("#groupleaderhtml .uiminput:last .user_name_error").html(""),jQuery("#groupleaderhtml .uiminput.pm_primary_admin").removeClass("pm_select_required"),jQuery(".pg-no-group-manager-related-field .uiminput").removeClass("pm_select_required"),jQuery(".pg-no-group-manager-related-field").hide()),"is_paid_group"==e.id&&jQuery("#paidgrouphtml .uiminput:first").removeClass("pm_required"),"display_on_profile"==e.id&&jQuery("#field_visibility_option .uiminput").removeClass("pm_radio_required"),"pm_enable_recaptcha"==e.id&&(jQuery("#pm_recaptcha_site_key_wrapper .uiminput").removeClass("pm_required"),jQuery("#pm_recaptcha_secret_key_wrapper .uiminput").removeClass("pm_required")),"pm_enable_facebook_connect"==e.id&&(jQuery("#pm_facebook_connect_html .uiminput").removeClass("pm_required"),jQuery("#pm_facebook_connect_html .uiminput").removeClass("pm_required")),"pm_enable_google_connect"==e.id&&(jQuery("#pm_google_connect_html .uiminput").removeClass("pm_required"),jQuery("#pm_google_connect_html .uiminput").removeClass("pm_required")),"pm_enable_linkedin_connect"==e.id&&(jQuery("#pm_linkedin_connect_html .uiminput").removeClass("pm_required"),jQuery("#pm_linkedin_connect_html .uiminput").removeClass("pm_required")),"pm_enable_twitter_connect"==e.id&&(jQuery("#pm_twitter_connect_html .uiminput").removeClass("pm_required"),jQuery("#pm_twitter_connect_html .uiminput").removeClass("pm_required")),"pm_enable_instagram_connect"==e.id&&(jQuery("#pm_instagram_connect_html .uiminput").removeClass("pm_required"),jQuery("#pm_instagram_connect_html .uiminput").removeClass("pm_required")),"pm_enable_auto_logout_user"==e.id&&jQuery("#enable_auto_logout_user_html .uiminput:first").removeClass("pm_required"),"pm_enable_reset_password_limit"==e.id&&jQuery("#pm_reset_password_limt_html .uiminput:first").removeClass("pm_required"),"enable_mailchimp"==e.id&&jQuery("#mailchimp_html .uiminput:first").removeClass("pm_checkbox_required"),"enable_notification"==e.id&&jQuery("#notification_html .uiminput").removeClass("pm_select_required"),"enable_group_admin_notification"==e.id&&jQuery("#admin_notification_html .uiminput").removeClass("pm_select_required"),"enable_tabs_privacy"==e.id&&jQuery("#tabs_privacy_html .uiminput").removeClass("pm_radio_required"),"enable_on_admin_reset_password"==e.id&&jQuery("#enable_on_admin_reset_password_html .uiminput").removeClass("pm_select_required"),"enable_on_admin_removal"==e.id&&jQuery("#enable_on_admin_removal_html .uiminput").removeClass("pm_select_required"),"enable_on_admin_assignment"==e.id&&jQuery("#on_admin_assignment_html .uiminput").removeClass("pm_select_required"),"pm_enable_geolocation"==e.id&&jQuery("#pm_geolocation_html #pm_map_api_key_row .uiminput").removeClass("pm_required"),"pm_enable_instagram_integration"==e.id&&(jQuery("#pm_instagram_html .uiminput").removeClass("pm_required"),jQuery("#pm_instagram_html .uiminput").removeClass("pm_required")),"admin_only"==e.id&&(jQuery("#show_signup").show(500),jQuery("#signup_html").show(500),jQuery("#privacy").show(500),jQuery("#pg_rm_field_html").show(500),jQuery("#default_registration_form_heading").show(500)))}function pm_map_field_show_hide(e,r){1==e?jQuery(r).show():jQuery(r).hide()}function pm_show_hide_field_option(e,r){jQuery("#displayonprofile").show(500),jQuery("#displayonmap").show(500),jQuery("#"+r+" .uimrow").hide(),""==e?jQuery("#"+r).hide(500):(jQuery("#"+r).show(),jQuery("#css_class_attribute_html").show(500)),"user_avatar"!=e&&"description"!=e&&"user_url"!=e&&"first_name"!=e&&"last_name"!=e&&"user_name"!=e&&"user_pass"!=e&&"confirm_pass"!=e&&"user_email"!=e||jQuery("#adminonly").hide(),"user_name"!=e&&"user_pass"!=e&&"confirm_pass"!=e&&"user_email"!=e||(jQuery("#signup_html").hide(500),jQuery("#pg_rm_field_html").hide(500),jQuery("#signup_html").css("visibility","hidden"),jQuery("#signup_html").css("height","0px"),jQuery("#signup_html").css("padding","0px"),jQuery("#signup_html").css("margin","0px")),"text"!=e&&"first_name"!=e&&"last_name"!=e&&"repeatable_text"!=e&&"number"!=e&&"mobile_number"!=e&&"phone_number"!=e||(jQuery("#place_holder_text_html").show(500),jQuery("#maximum_length_html").show(500)),"email"==e&&jQuery("#place_holder_text_html").show(500),"select"==e||"multi_dropdown"==e?(jQuery("#default_value_html").show(500),jQuery("#field_options_html").show(500),jQuery("#first_option_html").show(500),jQuery("#field_options_html .uiminput").addClass("pm_textarea_option_required")):jQuery("#field_options_html .uiminput").removeClass("pm_textarea_option_required"),"radio"==e||"checkbox"==e?(jQuery("#default_value_html").show(500),jQuery("#field_options_radio_html").show(500),jQuery("#pm_radio_field_other_option_html .pm_add_other_button").show(500),jQuery("#field_options_radio_html .uiminput").addClass("pm_radio_option_required")):jQuery("#field_options_radio_html .uiminput").removeClass("pm_radio_option_required"),"radio"==e&&jQuery("#pm_radio_field_other_option_html .pm_add_other_button").hide(500),"textarea"!=e&&"description"!=e||(jQuery("#place_holder_text_html").show(500),jQuery("#maximum_length_html").show(500),jQuery("#columns_html").show(500),jQuery("#rows_html").show(500)),"file"==e&&jQuery("#allowed_file_types_html").show(500),"term_checkbox"==e&&jQuery("#term_and_condition_html").show(500),"heading"==e&&(jQuery("#heading_text_html").show(500),jQuery("#heading_tag_html").show(500)),"paragraph"==e&&jQuery("#paragraph_text_html").show(500),"heading"!=e&&"paragraph"!=e&&"user_pass"!=e&&"confirm_pass"!=e&&"user_email"!=e&&"divider"!=e&&"spacing"!=e||(jQuery("#show_signup").hide(),jQuery("#signup_html").hide(),jQuery("#displayonprofile").hide(),jQuery("#displayprofilehtml").hide()),"heading"!=e&&"paragraph"!=e&&"user_pass"!=e&&"confirm_pass"!=e&&"divider"!=e&&"spacing"!=e&&"user_avatar"!=e||jQuery("#displayonmap").hide(),"user_email"==e&&jQuery("#displayonprofile").show(),"user_pass"!=e&&"confirm_pass"!=e||jQuery("#show_signup").show(),"user_avatar"!=e&&"user_name"!=e||(jQuery("#displayonprofile").hide(),jQuery("#displayprofilehtml").hide()),"pricing"==e&&jQuery("#price_html").show(500),"file"==e||"user_avatar"==e||"heading"==e||"paragraph"==e||"confirm_pass"==e||"user_pass"==e||"user_url"==e||"user_name"==e||"divider"==e||"spacing"==e?jQuery("#displayonsearch").hide():jQuery("#displayonsearch").show(),"birth_date"==e?(jQuery("#dateofbirth").show(),jQuery("#set_dob_range").attr("checked")?jQuery("#dateofbirth_range").show(500):jQuery("#dateofbirth_range").hide(500)):(jQuery("#dateofbirth").hide(),jQuery("#dateofbirth_range").hide(500)),"address"==e?(jQuery("#address_pane").show(),jQuery("#address_pane .uiminput").addClass("pm_checkbox_required")):(jQuery("#address_pane .uiminput").removeClass("pm_checkbox_required"),jQuery("#address_pane").hide()),"facebook"!=e&&"twitter"!=e&&"google"!=e&&"linked_in"!=e&&"youtube"!=e&&"instagram"!=e||jQuery("#place_holder_text_html").show(500),"mixcloud"==e?jQuery(".mixcloud_html").show():jQuery(".mixcloud_html").hide(),"soundcloud"==e?jQuery(".soundcloud_html").show():jQuery(".soundcloud_html").hide(),"youtube"==e?(jQuery("#video_width_html").show(),jQuery("#video_height_html").show(),jQuery("#video_frame_border_html").show(),jQuery("#video_auto_play_html").show(),jQuery("#video_player_control_html").show(),jQuery("#video_fullscreen_html").show(),jQuery("#video_loop_html").show()):(jQuery("#video_width_html").hide(),jQuery("#video_height_html").hide(),jQuery("#video_frame_border_html").hide(),jQuery("#video_auto_play_html").hide(),jQuery("#video_player_control_html").hide(),jQuery("#video_fullscreen_html").hide(),jQuery("#video_loop_html").hide())}function pm_insert_field_in_email(e){tinyMCE.activeEditor.execCommand("mceInsertContent",!1,e)}function insert_form_shortcode(e){return tinyMCE.activeEditor.execCommand("mceInsertContent",!1,e),tb_remove(),!1}function add_section_validation(){jQuery(".errortext").html(""),jQuery(".errortext").hide(),jQuery(".all_error_text").html(""),jQuery("input").removeClass("warning"),jQuery(".pm_required").each(function(e,r){var t=jQuery(this).children("input").val();""==jQuery.trim(t)&&(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").show())});var e="";return e=jQuery(".errortext").each(function(){var r=jQuery(this).html();e=r+e,jQuery(".all_error_text").html(e)}),""==jQuery(".all_error_text").html()}function add_group_validation(){jQuery(".errortext").html(""),jQuery(".errortext").hide(),jQuery(".all_error_text").html(""),jQuery("input").removeClass("warning"),jQuery("select").removeClass("warning"),jQuery("number").removeClass("warning"),jQuery(".pm_admin_label").each(function(e,r){var t=jQuery(this).children("input").val(),i=jQuery.trim(t);""==i||i.match(/^[a-zA-Z0-9 ]+$/)||(jQuery(this).children(".errortext").html(pm_error_object.valid_group_name),jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").show())}),jQuery(".pm_required").each(function(e,r){var t=jQuery(this).children("input").val();""==jQuery.trim(t)&&(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").show())}),jQuery(".pm_textarea_required").each(function(e,r){var t=tinyMCE.get("group_limit_message").getContent();""==jQuery.trim(t)?(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show()):(jQuery(this).children(".errortext").html(""),jQuery(this).children(".errortext").hide())}),jQuery(".pm_select_required").each(function(e,r){var t=jQuery(this).children("select").val(),i=jQuery.trim(t);""!=t&&""!=i||(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show(),jQuery(this).children("select").addClass("warning"))}),jQuery(".pm_checkbox_required").each(function(e,r){1==jQuery(this).children("ul").children("li").children('input[type="checkbox"]:checked').length>0||(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery(".pm_group_admin_required").each(function(e,r){1==jQuery(this).children('input[type="checkbox"]:checked').length>0||(jQuery(this).children(".errortext").html(pm_error_object.group_manager_first),jQuery(this).children(".errortext").show())}),jQuery(".pm_radio_required").each(function(e,r){1==jQuery(this).children("ul").children("li").children('input[type="radio"]:checked').length>0||(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())});var e="";return e=jQuery(".errortext").each(function(){var r=jQuery(this).html();e=r+e,c=jQuery(".user_name_error").html(),e+=c,jQuery(".all_error_text").html(e)}),""==jQuery(".all_error_text").html()||(jQuery(".errortext").each(function(){if(""!=jQuery(this).html()){var e=jQuery(this).parents(".uimrow").offset().top;return jQuery("html,body").animate({scrollTop:e-50},"slow"),!1}}),!1)}function add_field_validation(){jQuery(".errortext").html(""),jQuery(".errortext").hide(),jQuery(".all_error_text").html(""),jQuery("input").removeClass("warning"),jQuery("select").removeClass("warning"),jQuery("number").removeClass("warning"),jQuery(".pm_required").each(function(e,r){var t=jQuery(this).children("input").val();""==jQuery.trim(t)&&(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").show())}),jQuery(".pm_textarea_required").each(function(e,r){var t=tinyMCE.get("group_limit_message").getContent();""==jQuery.trim(t)?(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show()):(jQuery(this).children(".errortext").html(""),jQuery(this).children(".errortext").hide())}),jQuery(".pm_textarea_option_required").each(function(e,r){var t=jQuery(this).children("textarea").val();""==jQuery.trim(t)?(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show()):(jQuery(this).children(".errortext").html(""),jQuery(this).children(".errortext").hide())}),jQuery(".pm_select_required").each(function(e,r){var t=jQuery(this).children("select").val(),i=jQuery.trim(t);""!=t&&""!=i||(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show(),jQuery(this).children("select").addClass("warning"))}),jQuery(".pm_checkbox_required").each(function(e,r){1==jQuery(this).children("ul").children("li").children('input[type="checkbox"]:checked').length>0||(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery(".pm_radio_required").each(function(e,r){1==jQuery(this).children("ul").children("li").children('input[type="radio"]:checked').length>0||(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery(".pm_radio_option_required").each(function(e,r){var t=jQuery(this).children("ul").children("li").children('input[type="text"]').val(),i=jQuery.trim(t);""!=t&&""!=i||(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show(),jQuery(this).children("select").addClass("warning"))});var e="";return e=jQuery(".errortext").each(function(){var r=jQuery(this).html();e=r+e,jQuery(".all_error_text").html(e)}),""==jQuery(".all_error_text").html()}function add_pm_admin_email_option(){var e='<li class="pm_radio_option_field"><span class="pm_handle"></span><input type="text" name="pm_admin_email[]" value=""><span class="pm_remove_field" onClick="remove_pm_radio_option(this)">'+pm_error_object.delete+"</span></li>";jQuery("#field_options_radio_html ul#radio_option_ul_li_field").append(e),jQuery("#radio_option_ul_li_field .pm_radio_option_field:last input").focus()}function add_pm_radio_option(){var e='<li class="pm_radio_option_field"><span class="pm_handle"></span><input type="text" name="field_options[radio_option_value][]" value=""><span class="pm_remove_field" onClick="remove_pm_radio_option(this)">'+pm_error_object.delete+"</span></li>";jQuery("#field_options_radio_html ul#radio_option_ul_li_field").append(e),jQuery("#radio_option_ul_li_field .pm_radio_option_field:last input").focus()}function remove_pm_radio_option(e){jQuery(e).parent("li.pm_radio_option_field").remove()}function add_pm_other_option(){var e='<li class="pm_radio_option_field"><input type="text" value="Their answer" disabled><span class="removefield pm_remove_field" onClick="remove_pm_other_option(this)">'+pm_error_object.delete+'</span><input type="hidden" name="field_options[radio_option_value][]" value="chl_other" /></li>';jQuery("#pm_radio_field_other_option_html").append(e),jQuery(".pm_add_other_button").hide()}function remove_pm_other_option(e){jQuery(e).parent("li").remove(),jQuery(".pm_add_other_button").show()}function show_hide_search_text(){jQuery("#search_keyword").remove(),jQuery("#search").val("")}function check_validation(){var e=jQuery("#group_name").val();return""==jQuery.trim(e)?(jQuery("#group_error").show(),!1):(jQuery("#group_error").hide(),!0)}function check_group_leader_name(e){jQuery(".pm_group_leader_name").each(function(r,t){var i=jQuery(this).children("input").val(),o=new Array;o=e.split(",");var a=jQuery.inArray(i,o)>-1;console.log(a),0==a?(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".user_name_error").html(pm_error_object.no_user_search),jQuery(this).children(".user_name_error").show()):(jQuery(this).children(".user_name_error").html(""),jQuery(this).children("input").removeClass("warning"))})}function pm_ajax_sections_dropdown(e){var r={action:"pm_section_dropdown",gid:e};jQuery.post(pm_ajax_object.ajax_url,r,function(e){e&&jQuery("#associate_section").html(e)})}function pm_open_tab(e){jQuery(".ui-tabs-panel").hide(),jQuery("#"+e).show()}function pm_add_repeat(e){a=jQuery(e).parent("a").parent("div.pm_repeat").clone(),jQuery(a).children("input").val(""),jQuery(e).parent("a").parent("div.pm_repeat").parent("div.pm-field-input").append(a)}function pm_remove_repeat(e){jQuery(e).parent("a").parent("div.pm_repeat").remove()}function pm_test_smtp_connection(){jQuery("#smtptestconn a").hide(),jQuery("#smtptestconn img").show(),jQuery("#smtptestconn .result").html(""),pm_smtp_test_email_address=jQuery("#pm_smtp_test_email_address").val(),pm_smtp_host=jQuery("#pm_smtp_host").val(),pm_smtp_encription=jQuery("#pm_smtp_encription").val(),pm_smtp_port=jQuery("#pm_smtp_port").val(),pm_smtp_authentication=jQuery("#pm_smtp_authentication").val(),pm_smtp_username=jQuery("#pm_smtp_username").val(),pm_smtp_from_email_name=jQuery("#pm_smtp_from_email_name").val(),pm_smtp_from_email_address=jQuery("#pm_smtp_from_email_address").val(),pm_smtp_password=jQuery("#pm_smtp_password").val();var e={action:"pm_test_smtp",pm_smtp_test_email_address:pm_smtp_test_email_address,pm_smtp_host:pm_smtp_host,pm_smtp_encription:pm_smtp_encription,pm_smtp_port:pm_smtp_port,pm_smtp_authentication:pm_smtp_authentication,pm_smtp_username:pm_smtp_username,pm_smtp_from_email_name:pm_smtp_from_email_name,pm_smtp_from_email_address:pm_smtp_from_email_address,pm_smtp_password:pm_smtp_password};jQuery.post(pm_ajax_object.ajax_url,e,function(e){jQuery("#smtptestconn a").show(),jQuery("#smtptestconn img").hide(),"1"==jQuery.trim(e)?jQuery("#smtptestconn span.result").html('<span class="smtp_success">'+pm_error_object.success+"</span>"):jQuery("#smtptestconn span.result").html('<span class="smtp_failed">'+pm_error_object.failure+"</span>")})}function pm_change_group_notice(e,r){confirm(pm_error_object.change_group)||jQuery(e).val(r)}function pg_confirm(e){return!!confirm(e)}function pm_ajax_export_fields_dropdown(){var e=[];if(jQuery.each(jQuery("#pm_groups option:selected"),function(){e.push(jQuery(this).val())}),0!==e.length){var r={action:"pm_load_export_fields_dropdown",groups:e};jQuery.post(pm_ajax_object.ajax_url,r,function(e){jQuery("#pm-fields-container").html(e)})}else jQuery("#pm-fields-container").empty()}function pm_upload_csv(){jQuery("#import_hidden_form").show(200),jQuery("#pm_import_users").ajaxForm({target:"#pm_import_hidden_field",success:function(){}}).submit()}function pm_upload_jsonfile(){return jQuery("#pm_import_options").ajaxForm({target:"#pm_import_result",success:function(){}}).submit(),!1}function validate_facebook_url(e){return""==e||!!/(?:https?:\/\/)?(?:www\.)?facebook\.com\/(?:(?:\w)*#!\/)?(?:pages\/)?(?:[\w\-]*\/)*?(\/)?([\w\-\.]*)/i.test(e)}function validate_twitter_url(e){return""==e||!!/(ftp|http|https):\/\/?((www|\w\w)\.)?twitter.com(\w+:{0,1}\w*@)?(\S+)(:([0-9])+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i.test(e)}function validate_google_url(e){return""==e||!!/((http:\/\/(plus\.google\.com\/.*|www\.google\.com\/profiles\/.*|google\.com\/profiles\/.*))|(https:\/\/(plus\.google\.com\/.*)))/i.test(e)}function validate_linked_in_url(e){return""==e||!!/(ftp|http|https):\/\/?((www|\w\w)\.)?linkedin.com(\w+:{0,1}\w*@)?(\S+)(:([0-9])+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i.test(e)}function validate_youtube_url(e){return""==e||!!/(ftp|http|https):\/\/?((www|\w\w)\.)?youtube.com(\w+:{0,1}\w*@)?(\S+)(:([0-9])+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i.test(e)}function validate_soundcloud_url(e){return""==e||!!/(ftp|http|https):\/\/?((www|\w\w)\.)?soundcloud.com(\w+:{0,1}\w*@)?(\S+)(:([0-9])+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i.test(e)}function validate_mixcloud_url(e){return""==e||!!/(ftp|http|https):\/\/?((www|\w\w)\.)?mixcloud.com(\w+:{0,1}\w*@)?(\S+)(:([0-9])+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i.test(e)}function validate_instagram_url(e){if(""!=e){return!!e.match(/(?:(?:http|https):\/\/)?(?:www.)?(?:instagram.com|instagr.am)\/([A-Za-z0-9-_]+)/)}return!0}function check_is_tmpl_associate(){event.preventDefault(),jQuery("#pm_import_user_loader").show();var e=[];jQuery(".pg-selected-email-tmpl:checkbox:checked").map(function(){e.push(jQuery(this).val())});var r={action:"pm_check_associate_tmpl",searchIDs:e};jQuery.post(pm_ajax_object.ajax_url,r,function(e){""!=e?(alert(e),jQuery("#pm_import_user_loader").hide()):jQuery("#email_manager").submit()})}function pg_remove_profile_image(){jQuery(".icon_id").val(""),jQuery("#group_icon_img").attr("src",""),jQuery(".user-profile-picture").children("td").children("img").attr("srcset",""),jQuery("#group_icon_img").show(),jQuery("#pg_upload_image_preview").attr("src",""),jQuery(".pg_profile_image_container").hide()}function pm_remove_cover_image(){jQuery(".cover_icon_id").val(""),jQuery(".pg_upload_cover_image_preview").attr("src",""),jQuery(".pg_cover_image_container").hide()}function pm_make_require_group_field(e,r){"yes"==r?jQuery("#"+e).children(".uiminput").addClass("pm_group_admin_required"):jQuery("#"+e).children(".uiminput").removeClass("pm_group_admin_required")}function pm_show_hide_group_type_options(e){"hide"==e?(jQuery(".pg-close-group-related-field .uiminput").removeClass("pm_select_required"),jQuery(".pg-close-group-related-field").hide()):jQuery(".pg-close-group-related-field").show()}function pgrm_change_helptext(e){var r={action:"pm_get_rm_helptext",id:e};jQuery.post(pm_ajax_object.ajax_url,r,function(e){jQuery("#pgrm_help_text").html(e)})}function pg_create_group_page(e){var r={action:"pg_create_group_page",gid:e};jQuery.post(pm_ajax_object.ajax_url,r,function(e){e&&location.reload()})}function pm_remove_attachment(e,r,t){var i={action:"pm_remove_attachment_dashboard",key:r,value:t,uid:jQuery("#pg_user_id").val()};jQuery(e).parent("a").parent("span.pm_frontend_attachment").remove(),jQuery.post(pm_ajax_object.ajax_url,i,function(e){})}jQuery(document).ready(function(e){e(".remove_icon").click(function(r){e(".icon_id").val(""),e("#icon_html img").hide(),e(".remove_icon").hide()})}),jQuery(document).ready(function(e){e(".pm_calendar").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",yearRange:"1980:2025"})}),jQuery(document).ready(function(){jQuery(".pm_action_button input").addClass("pm_disabled"),jQuery(".pm_action_button input").attr("disabled","disabled"),jQuery('input[name="selected[]"]').click(function(){1==jQuery('input[name="selected[]"]:checked').length>0?(jQuery(".pm_action_button input").removeClass("pm_disabled"),jQuery(".pm_action_button input").removeAttr("disabled")):(jQuery(".pm_action_button input").addClass("pm_disabled"),jQuery(".pm_action_button input").attr("disabled","disabled"))})}),jQuery(document).ready(function(){jQuery("#import_hidden_form").hide(),jQuery("#import_users").prop("disabled",!0),jQuery("#pm_export_users").submit(function(e){var r=!1;if(void 0===jQuery("#pm_groups").val()||null===jQuery("#pm_groups").val()?alert("Select at least one group."):void 0===jQuery("#pm_fields").val()||null===jQuery("#pm_fields").val()?alert(pm_error_object.atleast_one_field):void 0===jQuery("#pm_separator").val()||null===jQuery("#pm_separator").val()||""===jQuery("#pm_separator").val()?alert(pm_error_object.seprator_not_empty):r=!0,!r)return e.preventDefault(),!1})}),jQuery(document).ready(function(e){var r;e(".cover_image_button").click(function(t){t.preventDefault(),r?r.open():((r=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},library:{type:"image"},multiple:!1})).on("select",function(){attachment=r.state().get("selection").first().toJSON(),"image"==attachment.type&&(e("#pm_cover_image").val(attachment.id),e("#pg_upload_cover_image_preview").attr("src",attachment.url),e(".pg_cover_image_container").show())}),r.open())})}),jQuery(document).ready(function(e){var r;e(".group_icon_button").click(function(t){t.preventDefault(),r?r.open():((r=wp.media.frames.file_frame=wp.media({title:pm_error_object.choose_image,button:{text:pm_error_object.choose_image},library:{type:"image"},multiple:!1})).on("select",function(){e("#icon_error").html(""),e("#icon_html img").hide(),attachment=r.state().get("selection").first().toJSON(),"image"==attachment.type?(e(".icon_id").val(attachment.id),e("#group_icon_img").attr("src",attachment.url),e(".user-profile-picture").children("td").children("img").attr("srcset",attachment.url),e("img.user-profile-image").attr("src",attachment.url),e("#group_icon_img").show(),e("#pg_upload_image_preview").attr("src",attachment.url),e(".pg_profile_image_container").show()):(e("#group_icon_img").hide(),e("#icon_error").html(pm_error_object.valid_image))}),r.open())})}),jQuery(function(){jQuery(".pm_sortable_tabs").sortable({axis:"y",opacity:.7,handle:".pm-slab-drag-handle",update:function(e,r){var t={action:"pm_set_section_order",list_order:jQuery(this).sortable("toArray").toString()};jQuery.post(pm_ajax_object.ajax_url,t,function(e){})}})}),jQuery(function(){jQuery(".pm_sortable_fields").sortable({axis:"y",opacity:.7,handle:".pm-slab-drag-handle",update:function(e,r){var t={action:"pm_set_field_order",list_order:jQuery(this).sortable("toArray").toString()};jQuery.post(pm_ajax_object.ajax_url,t,function(e){})}})}),jQuery(function(){jQuery("#pm_sortable_profile_tabs").sortable({axis:"y",opacity:.7,handle:".pm-slab-drag-handle",update:function(e,r){jQuery(this).sortable("toArray").toString()}})}),jQuery(document).ready(function(){jQuery("#pm-field-selection-popup").click(function(){jQuery(".pm-popup").css("visibility","visible"),jQuery(".pm-curtains").css("visibility","visible")})}),jQuery(document).ready(function(){jQuery("#pm-premium-popup").click(function(){jQuery(".pm-popup").css("visibility","visible"),jQuery(".pm-curtains").css("visibility","visible")})}),jQuery(document).ready(function(){jQuery("#pm-premium-popup").click(function(){jQuery(".pm-popup").css("visibility","visible"),jQuery(".pm-curtains").css("visibility","visible")})}),jQuery(document).ready(function(){jQuery(".pm-popup-close").click(function(){jQuery(".pm-popup").css("visibility","hidden"),jQuery(".pm-curtains").css("visibility","hidden")})}),jQuery(function(e){e("#tabs").tabs()}),jQuery(function(e){e("#sections").tabs()}),jQuery(document).ready(function(){jQuery("#import_pm_group").change(function(){data={targetUrl:pm_ajax_object.ajax_url,action:"pm_upload_csv",pm_import_step:"2",pm_separator:jQuery("#pm_separator").val(),import_pm_group:jQuery("#import_pm_group").val(),attachment_id:jQuery("#attachment_id").val()},jQuery.post(pm_ajax_object.ajax_url,data,function(e){e&&(jQuery("#pm_import_step").val("3"),jQuery("#preview-csv-file").html(e),jQuery("#import_users").prop("disabled",!1))})})}),jQuery(document).ready(function(){jQuery("#import_users").click(function(){sep=jQuery("#pm_separator").val(),group=jQuery("#import_pm_group").val(),""==sep||""==group?""==sep?alert(pm_error_object.seprator_not_empty):""==group&&alert(pm_error_object.select_group):(jQuery("#import_users").hide(),jQuery("#pm_import_user_loader").show(),jQuery("#pm_import_users").ajaxForm({target:"#pm_import_preview",success:function(){jQuery("#pm_import_user_loader").hide()}}).submit())})}),jQuery(document).ready(function(){jQuery("#your-profile").submit(function(){var e="your-profile",r=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;jQuery(".errortext").html(""),jQuery(".errortext").hide(),jQuery(".all_errors").html(""),jQuery(".warning").removeClass("warning"),jQuery("#"+e+" .pm_email").each(function(e,t){var i=jQuery(this).children("input").val();0==r.test(i)&&""!=i&&(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_email),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_number").each(function(e,r){var t=jQuery(this).children("input").val();0==jQuery.isNumeric(t)&&""!=t&&(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_number),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_datepicker").each(function(e,r){var t=jQuery(this).children("input").val();""==t||/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.test(t)||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_date),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_required").each(function(e,r){var t=jQuery(this).children("input").val();""==(t=jQuery.trim(t))&&(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_select_required").each(function(e,r){var t=jQuery(this).children("select").val();""==(t=jQuery.trim(t))&&(jQuery(this).children("select").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_textarearequired").each(function(e,r){var t=jQuery(this).children("textarea").val();""==(t=jQuery.trim(t))&&(jQuery(this).children("textarea").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_checkboxrequired").each(function(e,r){1==jQuery(this).children(".pmradio").children(".pm-radio-option").children('input[type="checkbox"]:checked').length>0||(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_radiorequired").each(function(e,r){1==jQuery(this).children(".pmradio").children(".pm-radio-option").children('input[type="radio"]:checked').length>0||(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_fileinput .pm_repeat").each(function(e,r){var t=jQuery(this).children("input").val().toLowerCase(),i=jQuery(this).children("input").attr("data-filter-placeholder");""==i&&(i=pm_error_object.allow_file_ext),i=i.toLowerCase(),new RegExp("(.*?).("+i+")$").test(t)||""==t||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.file_type),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_repeat_required .pm_repeat").each(function(e,r){var t=jQuery(this).children("input").val();""==(t=jQuery.trim(t))&&(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_user_pass").each(function(e,r){var t=jQuery(this).children("input").val(),i=t.length;""!=t&&i<7&&(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.short_password),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_confirm_pass").each(function(r,t){var i=jQuery(this).children("input").val(),o=o=jQuery("#"+e+" .pm_user_pass").children("input").val();o!=i&&(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.pass_not_match),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_recaptcha").each(function(e,r){0==grecaptcha.getResponse().length&&(jQuery(this).children(".errortext").html(pm_error_object.required_field),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_facebook_url").each(function(e,r){validate_facebook_url(jQuery(this).children("input").val())||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_facebook_url),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_twitter_url").each(function(e,r){validate_twitter_url(jQuery(this).children("input").val())||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_twitter_url),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_google_url").each(function(e,r){validate_google_url(jQuery(this).children("input").val())||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_google_url),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_linked_in_url").each(function(e,r){validate_linked_in_url(jQuery(this).children("input").val())||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_linked_in_url),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_youtube_url").each(function(e,r){validate_youtube_url(jQuery(this).children("input").val())||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_youtube_url),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_mixcloud_url").each(function(e,r){validate_mixcloud_url(jQuery(this).children("input").val())||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_mixcloud_url),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_soundcloud_url").each(function(e,r){validate_soundcloud_url(jQuery(this).children("input").val())||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_soundcloud_url),jQuery(this).children(".errortext").show())}),jQuery("#"+e+" .pm_instagram_url").each(function(e,r){validate_instagram_url(jQuery(this).children("input").val())||(jQuery(this).children("input").addClass("warning"),jQuery(this).children(".errortext").html(pm_error_object.valid_instagram_url),jQuery(this).children(".errortext").show())});var t="";return jQuery("#"+e+" .errortext").each(function(){var e=jQuery(this).html();t=e+t}),jQuery("#"+e+" .usernameerror").length>0&&(c=jQuery(".usernameerror").html(),t=c+t),jQuery("#"+e+" .useremailerror").length>0&&(d=jQuery(".useremailerror").html(),t=d+t),jQuery("#"+e+" .all_errors").html(t),""==jQuery("#"+e+" .all_errors").html()})}),jQuery(document).ready(function(e){for(var r=jQuery(".pmagic .pg-scblock .pg-scsubblock"),t=0;t<r.length;t+=3)r.slice(t,t+3).wrapAll('<div class="pg-scblock"></div>')}),jQuery(document).ready(function(){jQuery(".pg-dismissible").click(function(){var e={action:"pm_dismissible_notice",notice_name:jQuery(this).attr("id")};jQuery.post(pm_ajax_object.ajax_url,e,function(e){})})}),jQuery(document).ready(function(){jQuery(".pgrm-dismissible").click(function(){var e={action:"pm_dismissible_notice",notice_name:jQuery(this).attr("id"),rm_form_id:jQuery(this).attr("data-rmid")};jQuery.post(pm_ajax_object.ajax_url,e,function(e){})})}),jQuery(document).ready(function(e){var r;e(".pm_choose_image_btn").click(function(t){var i=e(this).parent(".uiminput");t.preventDefault(),r?r.open():((r=wp.media.frames.file_frame=wp.media({title:pm_error_object.choose_image,button:{text:pm_error_object.choose_image},library:{type:"image"},multiple:!1})).on("select",function(){e(i).children(".errortext").html(""),e(i).children(".pm_preview_img").hide(),attachment=r.state().get("selection").first().toJSON();var t=parseInt(attachment.filesizeInBytes),o=parseInt(attachment.sizes.full.width),a=(parseInt(attachment.sizes.full.height),parseInt(pm_upload_object.pg_profile_image_max_file_size)),_=pm_upload_object.pg_profile_photo_minimum_width;_="DEFAULT"==_?150:parseInt(_),"image"==attachment.type?t>a?(e(i).children("span").children(".pm_preview_img").hide(),e(i).children(".errortext").html(pm_upload_object.error_max_profile_filesize)):o<_?(e(i).children("span").children(".pm_preview_img").hide(),e(i).children(".errortext").html(pm_upload_object.error_min_profile_width)):(e(i).children(".icon_id").val(attachment.id),e(i).children("span").children(".pm_preview_img").attr("src",attachment.url),e(i).children(".pm_preview_img").show(),e(i).children("span").show()):(e(i).children("span").children(".pm_preview_img").hide(),e(i).children(".errortext").html(pm_error_object.valid_image))}),r.open())})}),jQuery(document).ready(function(e){var r;e("#field_cover_icon_button").click(function(t){var i=e(this).parent(".uiminput");t.preventDefault(),r?r.open():((r=wp.media.frames.file_frame=wp.media({title:pm_error_object.choose_image,button:{text:pm_error_object.choose_image},library:{type:"image"},multiple:!1})).on("select",function(){e(i).children(".errortext").html(""),e(i).children(".pm_preview_img").hide(),attachment=r.state().get("selection").first().toJSON();parseInt(attachment.filesizeInBytes);var t=parseInt(attachment.sizes.full.width),o=parseInt(attachment.sizes.full.height),a=(parseInt(pm_upload_object.pg_profile_image_max_file_size),pm_upload_object.pg_cover_photo_minimum_width);a="DEFAULT"==a?800:parseInt(a),"image"==attachment.type?t<a||o<300?(e(i).children("span").children(".pm_preview_img").hide(),e(i).children(".errortext").html(pm_upload_object.error_min_cover_width)):(e(i).children(".cover_icon_id").val(attachment.id),e(i).children("span").children(".pm_preview_img").attr("src",attachment.url),e(i).children(".pm_preview_img").show(),e(i).children("span").show()):(e(i).children("span").children(".pm_preview_img").hide(),e(i).children(".errortext").html(pm_error_object.valid_image))}),r.open())})});

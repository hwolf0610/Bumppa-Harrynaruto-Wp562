function pm_load_hash_url(e){window.location.href=e,location.reload()}function pm_load_more_friends(e,r,t){if((r=parseInt(r))>0){pm_f_search=jQuery("#pm_f_search").val();var i={action:"pm_fetch_my_friends",uid:e,pagenum:r,pm_f_search:pm_f_search};jQuery("#pm_load_more_result").hide(),jQuery(".pm-loader-img").show(),jQuery.post(pm_ajax_object.ajax_url,i,function(e){e&&(jQuery(".pm-my-friends").append(e),jQuery(".pm-loader-img").hide(),t>r?(value=r+1,jQuery("#pm_load_more_result").attr("value",value)):(jQuery("#pm_load_more_result").attr("value","0"),jQuery("#pm_load_more_result").html(pm_error_object.no_more_result)),jQuery("#pm_load_more_result").show())})}}function pm_add_friend_request(e,r,t){var i={action:"pm_add_friend_request",user1:e,user2:r};jQuery(t).parent(".pm-request-button").children("button").hide(),jQuery(t).parent(".pm-request-button").children("img").show(),jQuery.post(pm_ajax_object.ajax_url,i,function(e){e&&jQuery(t).parent("div").html(e)})}function pm_get_notification(e){var r={action:"pm_get_friends_notification",timestamp:e};jQuery.get(pm_ajax_object.ajax_url,r,function(e){if(e){var r=jQuery.parseJSON(e);jQuery("#pm_waiting_request").html(r.data_from_file),pm_get_notification()}})}function pm_confirm_request_from_notification(e,r,t,i){pm_delete_notification(i),pm_confirm_request(e,r,t)}function pm_confirm_request(e,r,t){var i={action:"pm_confirm_friend_request",user1:e,user2:r};jQuery("#pg-friend-requests").html('<div><div class="pm-loader"></div></div>');var _=jQuery(".pmagic").children("a").css("color");jQuery(".pm-loader").css("border-top-color",_),jQuery.post(pm_ajax_object.ajax_url,i,function(e){if(e){var r=jQuery("#pm-uid").val();pm_get_my_friends(1,r),pm_get_friend_requests(1,r),pm_get_friend_requests_sent(1,r),pm_update_counter(r)}})}function pm_confirm_request_right_side(e,r,t){var i={action:"pm_confirm_friend_request",user1:e,user2:r},_=jQuery(t).parent("div");jQuery(_).html('<div><div class="pm-loader"></div></div>');var n=jQuery(".pmagic").children("a").css("color");jQuery(".pm-loader").css("border-top-color",n),jQuery.post(pm_ajax_object.ajax_url,i,function(e){if(e){var r=jQuery("#pm-uid").val();jQuery(_).html(e),pm_get_my_friends(1,r)}})}function pm_update_counter(e){var r={action:"pm_fetch_friend_list_counter",uid:e,pm_friend_view:1};jQuery.post(pm_ajax_object.ajax_url,r,function(e){e&&jQuery("#pg-friends-container .notification-count:eq(0)").html(e)});var t={action:"pm_fetch_friend_list_counter",uid:e,pm_friend_view:2};jQuery.post(pm_ajax_object.ajax_url,t,function(e){e&&jQuery("#pg-friends-container .notification-count:eq(1)").html(e)});var i={action:"pm_fetch_friend_list_counter",uid:e,pm_friend_view:3};jQuery.post(pm_ajax_object.ajax_url,i,function(e){e&&jQuery("#pg-friends-container .notification-count:eq(2)").html(e)});var _=jQuery(".pmagic").children("a").css("color");jQuery(".pm-color").css("color",_)}function pm_remove_suggestions(e,r,t){var i={action:"pm_remove_friend_suggestion",user1:e,user2:r};jQuery(t).parent(".pm-request-button").children("button").hide(),jQuery(t).parent(".pm-request-button").children("img").show(),jQuery.post(pm_ajax_object.ajax_url,i,function(e){e&&(jQuery(t).parent(".pm-request-button").parent(".pm-my-friend").addClass("pm_remove_suggestions"),jQuery(".pm_remove_suggestions").remove())})}function pm_reject_friend_request_from_notification(e,r,t,i){pm_delete_notification(i),pm_reject_friend_request(e,r,t)}function pm_reject_friend_request(e,r,t){if("multiple"!=t)var i=confirm(pm_error_object.delete_friend_request);else i=!0;if(i){var _={action:"pm_reject_friend_request",user1:e,user2:r};jQuery("#pg-friend-requests").html('<div><div class="pm-loader"></div></div>');var n=jQuery(".pmagic").children("a").css("color");jQuery(".pm-loader").css("border-top-color",n),jQuery.post(pm_ajax_object.ajax_url,_,function(e){if(e){var r=jQuery("#pm-uid").val();pm_get_my_friends(1,r),pm_get_friend_requests(1,r),pm_get_friend_requests_sent(1,r),pm_update_counter(r)}})}}function pm_reject_friend_request_right_side(e,r,t){if(confirm(pm_error_object.delete_friend_request)){var i={action:"pm_reject_friend_request",user1:e,user2:r},_=jQuery(t).parent("div");jQuery(_).html('<div><div class="pm-loader"></div></div>');jQuery(".pmagic").children("a").css("color");jQuery.post(pm_ajax_object.ajax_url,i,function(e){if(e){var r=jQuery("#pm-uid").val();jQuery(_).html(e),pm_get_my_friends(1,r)}})}}function pm_unfriend_request(e,r,t){var i={action:"pm_unfriend_friend",user1:e,user2:r};jQuery("#pg-myfriends").html('<div><div class="pm-loader"></div></div>');var _=jQuery(".pmagic").children("a").css("color");jQuery(".pm-loader").css("border-top-color",_),jQuery.post(pm_ajax_object.ajax_url,i,function(e){if(e){var r=jQuery("#pm-uid").val();pm_get_my_friends(1,r),pm_get_friend_requests(1,r),pm_get_friend_requests_sent(1,r),pm_update_counter(r)}})}function pm_unfriend_request_rightside(e,r,t){if(confirm(pm_error_object.remove_friend)){var i={action:"pm_unfriend_friend",user1:e,user2:r};jQuery(t).html('<div><div class="pm-loader"></div></div>');var _=jQuery(".pmagic").children("a").css("color");jQuery(".pm-loader").css("border-top-color",_),jQuery.post(pm_ajax_object.ajax_url,i,function(e){e&&(pm_get_my_friends(1,jQuery("#pm-uid").val()),jQuery(t).html(e))})}}function pm_cancel_request_rightside(e,r,t){var i={action:"pm_unfriend_friend",user1:e,user2:r,cancel_request:"1"};jQuery(t).html('<div><div class="pm-loader"></div></div>');var _=jQuery(".pmagic").children("a").css("color");jQuery(".pm-loader").css("border-top-color",_),jQuery.post(pm_ajax_object.ajax_url,i,function(e){e&&(pm_get_my_friends(1,jQuery("#pm-uid").val()),jQuery(t).html(e))})}function pm_cancel_request(e,r,t){var i={action:"pm_unfriend_friend",user1:e,user2:r,cancel_request:"1"};jQuery("#pg-requests-sent").html('<div><div class="pm-loader"></div></div>');var _=jQuery(".pmagic").children("a").css("color");jQuery(".pm-loader").css("border-top-color",_),jQuery.post(pm_ajax_object.ajax_url,i,function(e){if(e){var r=jQuery("#pm-uid").val();pm_get_my_friends(1,r),pm_get_friend_requests(1,r),pm_get_friend_requests_sent(1,r),pm_update_counter(r)}})}function pm_load_more_suggestion(e,r,t){if((r=parseInt(r))>0){pm_u_search=jQuery("#pm_u_search").val();var i={action:"pm_fetch_my_suggestion",uid:e,pagenum:r,pm_u_search:pm_u_search};jQuery("#pm_load_more_suggestion").hide(),jQuery(".pm-loader-img-suggestion").show(),jQuery.post(pm_ajax_object.ajax_url,i,function(e){e&&(jQuery(".pm-my-suggestions").append(e),jQuery(".pm-loader-img-suggestion").hide(),t>r?(value=r+1,jQuery("#pm_load_more_suggestion").attr("value",value)):(jQuery("#pm_load_more_suggestion").attr("value","0"),jQuery("#pm_load_more_suggestion").html(pm_error_object.no_more_result)),jQuery("#pm_load_more_suggestion").show())})}}function pm_select_friend_checkbox(e){jQuery(e).is(":checked")?jQuery(e).parent("label").parent(".pm-friend-select").parent(".pm-myfriends-list").append('<div class="pm-selected-image" onclick="pm_unselect_friend(this)"> <svg fill="#000000" height="100%" viewBox="0 0 24 24" width="100%" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):jQuery(e).parent("label").parent(".pm-friend-select").parent(".pm-myfriends-list").children(".pm-selected-image").remove();var r=jQuery(".pmagic").children("a").css("color");jQuery("#pg-friends .pm-selected-image svg").css("fill",r)}function pm_multiple_friends_remove(e){confirm(pm_error_object.remove_friend)&&jQuery(".pm-my-friends-select-checkbox").each(function(r,t){var i=jQuery(this).is(":checked"),_=jQuery(this).val();i&&pm_unfriend_request(e,_,this)})}function pm_multiple_friends_request_accept(e){confirm(pm_error_object.accept_friend_request_conf)&&jQuery(".pm-request-friends-select-checkbox").each(function(r,t){var i=jQuery(this).is(":checked"),_=jQuery(this).val();i&&pm_confirm_request(e,_,this)})}function pm_multiple_friends_request_delete(e){confirm(pm_error_object.delete_friend_request)&&jQuery(".pm-request-friends-select-checkbox").each(function(r,t){var i=jQuery(this).is(":checked"),_=jQuery(this).val();i&&pm_reject_friend_request(e,_,"multiple")})}function pm_multiple_friends_request_cancel(e){confirm(pm_error_object.cancel_friend_request)&&jQuery(".pm-request-sent-select-checkbox").each(function(r,t){var i=jQuery(this).is(":checked"),_=jQuery(this).val();i&&pm_cancel_request(e,_,this)})}function pm_unselect_friend(e){jQuery(e).parent("div").children(".pm-friend-select").children("label").children(".pm-friends-select-checkbox").prop("checked",!1),jQuery(e).remove()}function pm_get_my_friends(e,r){var t={action:"pm_fetch_my_friends",uid:r,pagenum:parseInt(e),pm_friend_view:1};jQuery.post(pm_ajax_object.ajax_url,t,function(e){if(e){jQuery("#pg-myfriends").html(e);var r=jQuery(".pmagic").children("a").css("color");jQuery(".pm-color").css("color",r),jQuery(".pmagic .page-numbers .page-numbers.current").addClass("pm-bg").css("background",r)}})}function pm_get_friend_requests_sent(e,r){var t={action:"pm_fetch_my_friends",uid:r,pagenum:parseInt(e),pm_friend_view:3};jQuery.post(pm_ajax_object.ajax_url,t,function(e){if(e){jQuery("#pg-requests-sent").html(e);var r=jQuery(".pmagic").children("a").css("color");jQuery(".pm-color").css("color",r),jQuery(".pmagic .page-numbers .page-numbers.current").addClass("pm-bg").css("background",r)}})}function pm_get_friend_requests(e,r){var t={action:"pm_fetch_my_friends",uid:r,pagenum:parseInt(e),pm_friend_view:2};jQuery.post(pm_ajax_object.ajax_url,t,function(e){if(e){jQuery("#pg-friend-requests").html(e);var r=jQuery(".pmagic").children("a").css("color");jQuery(".pm-color").css("color",r),jQuery(".pmagic .page-numbers .page-numbers.current").addClass("pm-bg").css("background",r)}})}